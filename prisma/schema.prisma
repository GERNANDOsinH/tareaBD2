generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}


model Usuario {
  direccion_correo String @id @db.VarChar(150)
  descripcion String @db.VarChar(500)

  direccion_favorita direccion_favorita[]
  direccion_bloqueada direccion_bloqueada[]

  remitente correo[] @relation("remitente")
  destinatario correo[] @relation("destinatario")
}

model direccion_favorita {
  correo_usuario String
  direccion_favorita String @db.VarChar(150)
  fecha_agregado DateTime

  usuario Usuario @relation(fields: [correo_usuario], references: [direccion_correo])
  @@id([correo_usuario, direccion_favorita])
}

model direccion_bloqueada {
  correo_usuario String
  direccion_bloqueada String @db.VarChar(150)
  fecha_agregado DateTime

  usuario Usuario @relation(fields: [correo_usuario], references: [direccion_correo])
  @@id([correo_usuario, direccion_bloqueada])
}

model correo {
  id Int @id @default(autoincrement())
  correo_remitente String
  correo_destinatario String
  fecha_envio DateTime
  es_favorito Boolean

  remitente Usuario @relation("remitente", fields: [correo_remitente], references:[direccion_correo])
  destinatario Usuario @relation("destinario", fields: [correo_destinatario], references: [direccion_correo])
}